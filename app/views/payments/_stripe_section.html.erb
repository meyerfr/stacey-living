<div class="stripe-section-wrapper payment-section">
  <div class="stripe-section-header">
    <h3>Payment Details</h3>
    <div class="secure-payment">
      <i class="fas fa-lock"></i>
      <span>SecurePayment</span>
      <div class="accept-cards-icons">
        <i class="fab fa-cc-amex"></i>
        <i class="fab fa-cc-visa"></i>
        <i class="fab fa-cc-mastercard"></i>
      </div>
    </div>
  </div>
  <%= form_tag booking_payments_path(@booking.booking_auth_token, @booking), method: :post, id: 'payment-form' do |f| %>
    <div class="form-row">
      <label for="iban-element">
        IBAN
      </label>
      <div id="iban-element">
        <!-- A Stripe Element will be inserted here. -->
      </div>
    </div>
    <div id="bank-name"></div>


    <!-- Used to display form errors. -->
    <div id="error-message" role="alert"></div>

    <!-- Display mandate acceptance text. -->
    <div id="mandate-acceptance">
      By providing your IBAN and confirming this payment, you are authorizing STACEY Real Estate UG and Stripe, our payment service provider, to send instructions to your bank to debit your account and your bank to debit your account in accordance with those instructions. You are entitled to a refund from your bank under the terms and conditions of your agreement with your bank. A refund must be claimed within 8 weeks starting from the date on which your account was debited.
    </div>
    <div class="terms-and-conditions">
      <%= check_box "TermsConditions", "terms-and-conditions", id: 'terms-and-conditions' %>
      <span class="terms-and-conditions-label">I have read and agree to the terms and conditions</span>
    </div>
    <div class="privacy-policy">
      <p>By completing the reservation you agree to our <%= link_to 'privacy policy', 'https://www.stacey.de/datenschutz', target: :_blank %></p>
    </div>
    <div class="buttons">
      <div id='overlay-button'></div>
      <button class="payment-button stacey-button reverse-hover" disabled="true">Complete Reservation & Process Payment</button>
    </div>
  <% end %>
</div>
